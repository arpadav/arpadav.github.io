<!DOCTYPE html>
<html>
<head id="head"></head>
<script src="../../views/partials/head.js"></script>

<div id="sidebar" class="sidebar"></div>
<script type="module" src="../../views/partials/sidebar.js"></script>

<div class="beside_sidebar">
  <div id='header' class='header'></div>
  <script type="module" src="../../views/partials/header.js"></script>

  <iframe id="iframe" src="../../views/pages/subpages/2020hybrid.html" width="100%" style="border:none;" onload="setIframeHeight(this.id)"></iframe>
</div>

<script>
var resize_timeout;
init();
function init() {
  // add listener for resizing the window
  window.addEventListener("resize", function(){
    clearTimeout(resize_timeout);
    resize_timeout = setTimeout(function () { setIframeHeight('iframe'); }, 200);
  });
}

// from https://www.dyn-web.com/tutorials/iframes/height/
function setIframeHeight(id) {
	let ifrm = document.getElementById(id);
    let doc = ifrm.contentDocument? ifrm.contentDocument:
        ifrm.contentWindow.document;
    ifrm.style.visibility = 'hidden';
    ifrm.style.height = "10px";
    ifrm.style.height = getDocHeight( doc ) + 30 + "px";
    ifrm.style.visibility = 'visible';
}
function getDocHeight(doc) {
	doc = doc || document;
	let body = doc.body, html = doc.documentElement;
	let height = Math.max( body.scrollHeight, body.offsetHeight,
		html.clientHeight, html.scrollHeight, html.offsetHeight );
	return height;
}
</script>
<link rel="stylesheet" href="../../public/stylesheets/std.css">
</html>
